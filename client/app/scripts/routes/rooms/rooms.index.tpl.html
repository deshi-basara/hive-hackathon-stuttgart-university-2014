<section id="rooms">
	<h1>Rooms nearby</h1>
	<div class="room-item" 	ng-repeat="room in ctrl.roomList"
							ng-class="{'in': room.in }"
							ng-click="ctrl.openRoomModal(room)"
                            ng-show="ctrl.hasSignal">
		<span>{{:: room.name }}</span>
	</div>
    <div class="room-signal" ng-hide="ctrl.hasSignal">
        <div class="room-signal-content">
            <div class="input-group" ng-hide="ctrl.roomCreated">
                <label>Create a new room: </label>
                <input class="input-text" type="text" ng-model="ctrl.room.name" placeholder="Technische Informatik">
            </div>
            <button type="button" class="button button-blue" ng-click="ctrl.saveRoom()" ng-hide="ctrl.roomCreated">Save</button>
            <button type="button" class="button button-blue" ng-click="ctrl.startBroadcasting()" ng-show="ctrl.roomCreated">Make some noise</button>
        </div>
    </div>
    <div class="room-signal" ng-hide="ctrl.hasSignal">
        <div class="room-signal-content">
            <h3>Start listening for rooms</h3>
            <img src="/images/mikro.png">
            <div class="wave">
                <canvas width=256 height=100></canvas>
            </div>
            <div>
                <p>Hive verwendet ihr Mikrofon um nach umliegenden RÃ¤umen zu suchen.</p>
                <button class="button" ng-click="ctrl.startListening()" ng-show="!ctrl.isListening">Aktiveren</button>
            </div>
        </div>
    </div>
    <button type="button" class="button" ng-click="ctrl.startBroadcasting()">Create new room</button>
</section>

<error-message ng-show="ctrl.showError">Create-Room: {{ctrl.errorMsg}}</error-message>

<!-- Modal code -->
<script type="text/ng-template" id="room-modal.html">
<div id="room-modal">
    <div class="modal-header">
        <h3 class="modal-title">{{:: room.name }}</h3>
    </div>
    <div class="modal-body">
    	<div class="created-by">Created By <span>{{:: room.owner.username }}</span>
    	</div>
    	<div class="active-user">
    		{{:: 3 }} Active User
    	</div>
    </div>
    <div class="modal-footer">
        <button class="button button-blue" ng-click="ok()">Join</button>
    </div>
</div>
</script>